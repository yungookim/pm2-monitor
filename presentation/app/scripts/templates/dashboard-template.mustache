<div class="divider"></div>

<div clas=s"row">
  <div id="table_wrapper" class="col-lg-12">
    
  </div>
</div>


<script type="text/template" id="subtemplate_daemon">

  {{#hosts}}
  <table class="table table-bordered">
    <thead>
      <tr>
        <th colspan="3">{{system_info.hostname}} @ <a href="#remote/{{url}}">{{id}} </a></th>
      </tr>
      <tr>
        <th>Status</th>
        <th>PID</th>
        <th>pm_id</th>
        <th>Path</th>
        <th>Name</th>
        <th>User</th>
        <th>Mode</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody>
      {{#processes}}
      <tr>
        <td class="status-col">
          <span class="label label-{{pm2_env.status}}">
            {{pm2_env.status}}
          </span>
        </td>
        <td>{{pid}}</td>
        <td>{{pm_id}}</td>
        <td>{{pm2_env.pm_exec_path}}</td>
        <td>{{pm2_env.name}}</td>
        <td>{{pm2_env.env.USER}}</td>
        <td>{{pm2_env.exec_mode}}</td>

        <td>
          <button type="button" class="btn btn-link" data-toggle="collapse" data-target="#detail_{{pid}}">
            Show Details
          </button>
          <div id="detail_{{pid}}" class="collapse">
            <p><b>Outlog</b> {{pm2_env.pm_out_log_path}}</p>
            <p><b>Errlog</b> {{pm2_env.pm_err_log_path}}</p>
            <p><b>Restarts</b> {{pm2_env.restart_time}}</p>
            <p class="text-danger"><b>Unstable Restarts</b> {{pm2_env.unstable_restarts}}</p>
            <p><b>Created At</b> {{pm2_env.created_at}}</p>
            <p><b>Uptime</b> {{pm2_env.pm_uptime}}</p>
            <p><b>Memory</b> {{monit.memory}}</p>
            <p><b>CPU</b> {{monit.cpu}}</p>
          </div>
        </td>
      </tr>
      {{/processes}}

    </tbody>
  </table>
  {{/hosts}}

</script>